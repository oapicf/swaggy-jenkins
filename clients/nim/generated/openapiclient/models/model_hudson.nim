#
# Swaggy Jenkins
# 
# Jenkins API clients generated from Swagger / Open API specification
# The version of the OpenAPI document: 3.2.1-pre.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_all_view
import model_free_style_project
import model_hudsonassigned_labels
import model_unlabeled_load_statistics

type Hudson* = object
  ## 
  class*: Option[string]
  assignedLabels*: Option[seq[HudsonassignedLabels]]
  mode*: Option[string]
  nodeDescription*: Option[string]
  nodeName*: Option[string]
  numExecutors*: Option[int]
  description*: Option[string]
  jobs*: Option[seq[FreeStyleProject]]
  primaryView*: Option[AllView]
  quietingDown*: Option[bool]
  slaveAgentPort*: Option[int]
  unlabeledLoad*: Option[UnlabeledLoadStatistics]
  useCrumbs*: Option[bool]
  useSecurity*: Option[bool]
  views*: Option[seq[AllView]]


# Custom JSON deserialization for Hudson with custom field names
proc to*(node: JsonNode, T: typedesc[Hudson]): Hudson =
  result = Hudson()
  if node.kind == JObject:
    if node.hasKey("_class") and node["_class"].kind != JNull:
      result.class = some(to(node["_class"], typeof(result.class.get())))
    if node.hasKey("assignedLabels") and node["assignedLabels"].kind != JNull:
      # Optional array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["assignedLabels"]
      if arrayNode.kind == JArray:
        var arr: seq[HudsonassignedLabels] = @[]
        for item in arrayNode.items:
          arr.add(to(item, HudsonassignedLabels))
        result.assignedLabels = some(arr)
    if node.hasKey("mode") and node["mode"].kind != JNull:
      result.mode = some(to(node["mode"], typeof(result.mode.get())))
    if node.hasKey("nodeDescription") and node["nodeDescription"].kind != JNull:
      result.nodeDescription = some(to(node["nodeDescription"], typeof(result.nodeDescription.get())))
    if node.hasKey("nodeName") and node["nodeName"].kind != JNull:
      result.nodeName = some(to(node["nodeName"], typeof(result.nodeName.get())))
    if node.hasKey("numExecutors") and node["numExecutors"].kind != JNull:
      result.numExecutors = some(to(node["numExecutors"], typeof(result.numExecutors.get())))
    if node.hasKey("description") and node["description"].kind != JNull:
      result.description = some(to(node["description"], typeof(result.description.get())))
    if node.hasKey("jobs") and node["jobs"].kind != JNull:
      # Optional array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["jobs"]
      if arrayNode.kind == JArray:
        var arr: seq[FreeStyleProject] = @[]
        for item in arrayNode.items:
          arr.add(to(item, FreeStyleProject))
        result.jobs = some(arr)
    if node.hasKey("primaryView") and node["primaryView"].kind != JNull:
      result.primaryView = some(to(node["primaryView"], typeof(result.primaryView.get())))
    if node.hasKey("quietingDown") and node["quietingDown"].kind != JNull:
      result.quietingDown = some(to(node["quietingDown"], typeof(result.quietingDown.get())))
    if node.hasKey("slaveAgentPort") and node["slaveAgentPort"].kind != JNull:
      result.slaveAgentPort = some(to(node["slaveAgentPort"], typeof(result.slaveAgentPort.get())))
    if node.hasKey("unlabeledLoad") and node["unlabeledLoad"].kind != JNull:
      result.unlabeledLoad = some(to(node["unlabeledLoad"], typeof(result.unlabeledLoad.get())))
    if node.hasKey("useCrumbs") and node["useCrumbs"].kind != JNull:
      result.useCrumbs = some(to(node["useCrumbs"], typeof(result.useCrumbs.get())))
    if node.hasKey("useSecurity") and node["useSecurity"].kind != JNull:
      result.useSecurity = some(to(node["useSecurity"], typeof(result.useSecurity.get())))
    if node.hasKey("views") and node["views"].kind != JNull:
      # Optional array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["views"]
      if arrayNode.kind == JArray:
        var arr: seq[AllView] = @[]
        for item in arrayNode.items:
          arr.add(to(item, AllView))
        result.views = some(arr)

# Custom JSON serialization for Hudson with custom field names
proc `%`*(obj: Hudson): JsonNode =
  result = newJObject()
  if obj.class.isSome():
    result["_class"] = %obj.class.get()
  if obj.assignedLabels.isSome():
    result["assignedLabels"] = %obj.assignedLabels.get()
  if obj.mode.isSome():
    result["mode"] = %obj.mode.get()
  if obj.nodeDescription.isSome():
    result["nodeDescription"] = %obj.nodeDescription.get()
  if obj.nodeName.isSome():
    result["nodeName"] = %obj.nodeName.get()
  if obj.numExecutors.isSome():
    result["numExecutors"] = %obj.numExecutors.get()
  if obj.description.isSome():
    result["description"] = %obj.description.get()
  if obj.jobs.isSome():
    result["jobs"] = %obj.jobs.get()
  if obj.primaryView.isSome():
    result["primaryView"] = %obj.primaryView.get()
  if obj.quietingDown.isSome():
    result["quietingDown"] = %obj.quietingDown.get()
  if obj.slaveAgentPort.isSome():
    result["slaveAgentPort"] = %obj.slaveAgentPort.get()
  if obj.unlabeledLoad.isSome():
    result["unlabeledLoad"] = %obj.unlabeledLoad.get()
  if obj.useCrumbs.isSome():
    result["useCrumbs"] = %obj.useCrumbs.get()
  if obj.useSecurity.isSome():
    result["useSecurity"] = %obj.useSecurity.get()
  if obj.views.isSome():
    result["views"] = %obj.views.get()

