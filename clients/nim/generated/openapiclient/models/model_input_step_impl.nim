#
# Swaggy Jenkins
# 
# Jenkins API clients generated from Swagger / Open API specification
# The version of the OpenAPI document: 3.2.1-pre.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_input_step_impllinks
import model_string_parameter_definition

type InputStepImpl* = object
  ## 
  class*: Option[string]
  links*: Option[InputStepImpllinks]
  id*: Option[string]
  message*: Option[string]
  ok*: Option[string]
  parameters*: Option[seq[StringParameterDefinition]]
  submitter*: Option[string]


# Custom JSON deserialization for InputStepImpl with custom field names
proc to*(node: JsonNode, T: typedesc[InputStepImpl]): InputStepImpl =
  result = InputStepImpl()
  if node.kind == JObject:
    if node.hasKey("_class") and node["_class"].kind != JNull:
      result.class = some(to(node["_class"], typeof(result.class.get())))
    if node.hasKey("_links") and node["_links"].kind != JNull:
      result.links = some(to(node["_links"], typeof(result.links.get())))
    if node.hasKey("id") and node["id"].kind != JNull:
      result.id = some(to(node["id"], typeof(result.id.get())))
    if node.hasKey("message") and node["message"].kind != JNull:
      result.message = some(to(node["message"], typeof(result.message.get())))
    if node.hasKey("ok") and node["ok"].kind != JNull:
      result.ok = some(to(node["ok"], typeof(result.ok.get())))
    if node.hasKey("parameters") and node["parameters"].kind != JNull:
      # Optional array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["parameters"]
      if arrayNode.kind == JArray:
        var arr: seq[StringParameterDefinition] = @[]
        for item in arrayNode.items:
          arr.add(to(item, StringParameterDefinition))
        result.parameters = some(arr)
    if node.hasKey("submitter") and node["submitter"].kind != JNull:
      result.submitter = some(to(node["submitter"], typeof(result.submitter.get())))

# Custom JSON serialization for InputStepImpl with custom field names
proc `%`*(obj: InputStepImpl): JsonNode =
  result = newJObject()
  if obj.class.isSome():
    result["_class"] = %obj.class.get()
  if obj.links.isSome():
    result["_links"] = %obj.links.get()
  if obj.id.isSome():
    result["id"] = %obj.id.get()
  if obj.message.isSome():
    result["message"] = %obj.message.get()
  if obj.ok.isSome():
    result["ok"] = %obj.ok.get()
  if obj.parameters.isSome():
    result["parameters"] = %obj.parameters.get()
  if obj.submitter.isSome():
    result["submitter"] = %obj.submitter.get()

